import{c as N,p as k,s as a,u as L,a as R,b as m,r as h,j as e,d as r,G as _,I as t,B as E,e as G}from"./index-XMcHxWWb.js";const d=[{answer:["green","orange","blue","purple"],colors:[["purple","blue","orange","green"]]},{answer:["cyan","blue","yellow","green"],colors:[["red","green","purple","orange"]]},{answer:["yellow","orange","blue","red"],colors:[["red","purple","yellow","orange"],["orange","green","purple","red"]]},{answer:["purple","yellow","green","blue"],colors:[["purple","orange","cyan","red"],["yellow","orange","green","blue"],["yellow","blue","green","red"],["yellow","green","cyan","blue"]]},{answer:["yellow","purple","orange","blue"],colors:[["green","yellow","red","purple"],["purple","blue","cyan","green"],["cyan","green","yellow","orange"],["red","cyan","blue","yellow"],["orange","red","green","blue"]]}],S=(c,n)=>({round:0,nextLevel:()=>{const l=n().round;l<d.length-1?c({round:l+1}):a.error("Â∑≤ÁªèÊòØÊúÄÂêé‰∏ÄÂÖ≥‰∫ÜÔºÅ")},preLevel:()=>{const l=n().round;l>0?c({round:l-1}):a.error("ËøôÊòØÁ¨¨‰∏ÄÂÖ≥")}}),u=N()(k(S,{name:"levelRound"})),A=c=>new Set(c).size===4,I=()=>{const c=L(),n=u(s=>s.round),l=u(s=>s.nextLevel),y=u(s=>s.preLevel),b=R(s=>s.onOpen),{getColors:p,answer:x,nextRound:w,addInfo:j,loaddingLevel:i}=m();h.useEffect(()=>{i(d[n])},[n,i]),h.useEffect(()=>{const s=m.subscribe(o=>o.round,o=>{console.log(o),o===7&&a.error("‰∏ÉÊ¨°Êú∫‰ºöÁî®ÂÆå‰∫ÜÔºåÁÇπÂáª‰∏ãÊñπÊåâÈíÆÂà∑Êñ∞ÂÜçÂ∞ùËØï‰∏ÄÊ¨°ÂêßÔºÅ")});return()=>s()},[]);const f=()=>{const s=p(),o=A(s);if(s.includes("null")){a.warning("Êúâ‰ΩçÁΩÆÊ≤°ÊúâÈÄâÊã©È¢úËâ≤Âì¶ÔºÅ");return}if(o){const g=G(p(),x);j(g),g[1]===4?n!==4?(a.success("üéâÊÅ≠Âñú‰Ω†ÔºåÂõûÁ≠îÊ≠£Á°Æ!"),setTimeout(()=>{l()},1e3)):a.success("üéâÊÅ≠Âñú‰Ω†ÔºåÊåëÊàòÊàêÂäü!"):w()}else a.error("‰∏çËÉΩÈÄâÊã©Áõ∏ÂêåÁöÑÈ¢úËâ≤")},v=()=>{i(d[n])},C=()=>{c("/")};return e.jsxs("div",{className:r.game,children:[e.jsx("div",{className:r.game_container,children:Array.from({length:7}).map((s,o)=>e.jsx(_,{rowIndex:o},`gameComponent_${o}`))}),e.jsxs("div",{className:r.game_footer,children:[e.jsxs("div",{className:r.game_info,children:[e.jsx("span",{children:e.jsx(t,{className:r.icon,onClick:y,icon:"material-symbols-light:skip-previous-outline-rounded",width:"24",height:"24"})}),e.jsxs("span",{children:["Á¨¨",n+1,"ÂÖ≥"]}),e.jsx("span",{children:e.jsx(t,{onClick:l,className:r.icon,icon:"material-symbols-light:skip-next-outline-rounded",width:"24",height:"24"})}),e.jsx("span",{children:e.jsx(t,{onClick:b,className:r.icon,icon:"material-symbols-light:help-outline-rounded",width:"24",height:"24"})}),e.jsx("span",{children:e.jsx(t,{onClick:v,className:r.icon,icon:"material-symbols-light:frame-reload-sharp",width:"24",height:"24"})}),e.jsx("span",{children:e.jsx(t,{onClick:C,className:r.icon,icon:"material-symbols-light:home",width:"24",height:"24"})})]}),e.jsx(E,{type:"primary",onClick:f,children:"Êèê‰∫§"})]})]})};export{I as default};
